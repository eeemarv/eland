{% extends 'mail/base/private_msg_copy.twig' %}
{%- trans_default_domain 'mail' -%}

{# message.type is "offer" or "want" #}

{% block subject_line -%}
    {{- ('message_msg_copy.subject_' ~ message.type)|trans({
        '%message_title%': message.content
    })|raw -}}
{%- endblock subject_line %}

{% block html_explain -%}
    {{- ('message_msg_copy.explain_' ~ message.type)|trans({
        '%to_account%': account(to_user.id, to_schema),
        '%link_to_account_open%': mail_link_open('users', {'id': to_user.id}, to_schema, email_token),
        '%link_to_account_close%': '</a>',
        '%message_title%': message.content,
        '%link_message_open%': mail_link_open('messages', {'id': message.id}, schema, email_token),
        '%link_message_close%': '</a>'
    })|raw -}}
{%- endblock html_explain -%}

{% block text_explain %}
{{ ('message_msg_copy.explain_' ~ message.type)|trans({
    '%to_account%': account(to_user.id, to_schema),
    '%link_to_account_open%': '',
    '%link_to_account_close%': '',
    '%message_title%': message.content,
    '%link_message_open%': '',
    '%link_message_close%': ''
})|raw }}
{% endblock text_explain %}
