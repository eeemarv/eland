{% extends 'mail/base/private_msg.twig' %}
{%- trans_default_domain 'mail' -%}

{# message.type is "offer" or "want" #}

{% block subject_line -%}
    {{- ('message_msg.subject_' ~ message.type)|trans({
        '%message_title%': message.content
    })|raw -}}
{%- endblock subject_line %}

{% block html_explain -%}
    {{- ('message_msg.explain_' ~ message.type)|trans({
        '%from_account%': account(from_user.id, from_schema),
        '%link_from_account_open%': mail_link_open('users', {'id': from_user.id}, from_schema),
        '%link_from_account_close%': '</a>',
        '%message_title%': message.content,
        '%link_message_open%': mail_link_open('messages', {'id': message.id}, schema),
        '%link_message_close%': '</a>'
    })|raw -}}
{%- endblock html_explain -%}

{% block text_explain %}
{{ ('message_msg.explain_' ~ message.type)|trans({
    '%from_account%': account(from_user.id, from_schema),
    '%link_from_account_open%': '',
    '%link_from_account_close%': '',
    '%message_title%': message.content,
    '%link_message_open%': '',
    '%link_message_close%': ''
})|raw }}
{% endblock text_explain %}
