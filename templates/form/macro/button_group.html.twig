{%- macro view(route, all_params, view_ary, current_view, admin) -%}
    {%- import _self as bg -%}
    <span class="pull-right">
        <span class="btn-group" role="group">
            {%-for view, title in view_ary -%}
                <a href="{{- path(route, all_params|merge({'view': view})) -}}" title="{{- title|trans -}}" class="btn btn-outline-secondary{%- if current_view == view %} active{%- endif -%}">
                    {{- bg.fa_view(view) -}}
                </a>
            {%- endfor -%}
            {%- if admin|default(false) -%}
                <a href="#" title="{{- 'btn.admin'|trans -}}" class="btn btn-dark" data-admin>
                    <i class="fa fa-cog"></i>
                </a>
            {%- endif -%}
        </span>
    </span>
{%- endmacro view -%}

{%- macro item_nav(entity, prev, next, acc_sch) -%}
    {%- import _self as bg -%}
    <span class="pull-right">
        <span class="btn-group" role="group">
            <a href="{{- path(entity~'_index', acc_sch|view(entity)) -}}" title="{{- 'nav.overview'|trans -}}" class="btn btn-outline-secondary">
                {{- bg.fa_view((acc_sch|view(entity))['view']|default('list')) -}}
            </a>
            {%- if prev -%}
                <a href="{{- path(entity~'_show', acc_sch|merge({'id': prev})) -}}" title="{{- 'nav.previous'|trans -}}" class="btn btn-outline-secondary">
                    <i class="fa fa-chevron-down"></i>
                </a>
            {%- else -%}
                <button class="btn btn-outline-secondary" disabled="disabled">
                    <i class="fa fa-chevron-down"></i>
                </button>
            {%- endif -%}
            {%- if next -%}
                <a href="{{- path(entity~'_show', acc_sch|merge({'id': next})) -}}" title="{{- 'nav.next'|trans -}}" class="btn btn-outline-secondary">
                    <i class="fa fa-chevron-up"></i>
                </a>
            {%- else -%}
                <button class="btn btn-outline-secondary" disabled="disabled">
                    <i class="fa fa-chevron-up"></i>
                </button>
            {%- endif -%}
        </span>
    </span>
{%- endmacro item_nav -%}

{%- macro fa_view(view) -%}
    {%- set fa = {'list': 'align-justify', 'map': 'map-marker', 'extended': 'th-list', 'tiles': 'th'} -%}
    <i class="fa fa-{{- fa[view] -}}"></i>
{%- endmacro fa_view -%}

{%- macro columns(filter, show, csv, admin) -%}
    <span class="pull-right">
        <span class="btn-group" role="group">
            {%- if filter|default(false) -%}
                <button class="btn btn-outline-secondary" title="{{- 'btn.filter'|trans -}}" data-toggle="collapse" data-target="#filter">
                    <i class="fa fa-filter"></i>
                </button>
            {%- endif -%}
            {%- if show|default(false) -%}
                <button class="btn btn-outline-secondary" title="{{- 'btn.show_columns'|trans -}}" data-toggle="collapse" data-target="#show_columns">
                    <i class="fa fa-columns"></i>
                </button>
            {%- endif -%}
            {%- if csv|default(false) -%}
                <a href="#" title="{{- 'link.csv'|trans -}}" class="btn btn-outline-secondary" data-csv>
                    <i class="fa fa-file-excel-o"></i>
                </a>
            {%- endif -%}
            {%- if admin|default(false) -%}
                <a href="#" title="{{- 'btn.admin'|trans -}}" class="btn btn-dark" data-admin>
                    <i class="fa fa-cog"></i>
                </a>
            {%- endif -%}
        </span>
        &nbsp;
    </span>
{%- endmacro columns -%}
