{% extends 'mail/base/private_msg_copy.twig' %}
{%- trans_default_domain 'mail' -%}

{% block subject_line -%}
    {%- set offer_want = message.is_offer ? 'offer' : 'want' -%}
    {{- ('message_msg_copy.subject_' ~ offer_want)|trans({
        '%message_subject%': message.subject
    })|raw -}}
{%- endblock subject_line %}

{% block html_explain -%}
    {%- set offer_want = message.is_offer ? 'offer' : 'want' -%}
    {{- ('message_msg_copy.explain_' ~ offer_want)|trans({
        '%to_account%': account(to_user.id, to_schema),
        '%link_to_account_open%': context_url_open('users_show', mpp_ary(from_user.id, from_schema), {'id': to_user.id}),
        '%link_to_account_close%': '</a>',
        '%message_subject%': message.subject,
        '%link_message_open%': context_url_open('messages_show', mpp_ary(from_user.id, from_schema), {'id': message.id}),
        '%link_message_close%': '</a>'
    })|raw -}}
{%- endblock html_explain -%}

{% block text_explain %}
{%- set offer_want = message.is_offer ? 'offer' : 'want' -%}
{{ ('message_msg_copy.explain_' ~ offer_want)|trans({
    '%to_account%': account(to_user.id, to_schema),
    '%link_to_account_open%': '',
    '%link_to_account_close%': '',
    '%message_subject%': message.subject,
    '%link_message_open%': '',
    '%link_message_close%': ''
})|raw }}
{% endblock text_explain %}
