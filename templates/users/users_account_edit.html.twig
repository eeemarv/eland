{%- extends 'users/base/users_single_form.html.twig' -%}
{%- import 'macro/anchor.html.twig' as a -%}

{%- block heading_title -%}
    {{- 'users_account_edit.title'|trans({
        'self': is_self ? 'self' : 'some_user',
        'mode': mode,
        'user': account(id, schema)
    }) -}}
{%- endblock heading_title -%}

{%- block form_a -%}
    {{- form_row(form.code, {
        'label': 'label.account_code',
        'pre_addon': {
            'fa': 'credit-card',
        }
    }) -}}

    {%- if form.min_limit is defined -%}
        {%- set min_system = config_int('accounts.limits.global.min', schema) -%}
        {{- form_row(form.min_limit, {
            'label': 'label.min_limit',
            'pre_addon': {
                'fa': 'arrow-down',
                'text': config_str('transactions.currency.name', schema),
            },
            'help': 'users_account_edit.min_limit.help',
            'help_translation_parameters': {
                'min_system': min_system,
                'currency': config_str('transactions.currency.name', schema),
                'system': min_system is null ? 'null' : 'defined',
                'open': a.open_context_path('transactions_system_limits'),
                'close': a.close(),
            },
            'help_html': true,
        }) -}}
    {%- endif -%}

    {%- if form.max_limit is defined -%}
        {%- set max_system = config_int('accounts.limits.global.max', schema) -%}
        {{- form_row(form.max_limit, {
            'label': 'label.max_limit',
            'pre_addon': {
                'fa': 'arrow-up',
                'text': config_str('transactions.currency.name', schema),
            },
            'help': 'users_account_edit.max_limit.help',
            'help_translation_parameters': {
                'max_system': max_system,
                'currency': config_str('transactions.currency.name', schema),
                'system': max_system is null ? 'null' : 'defined',
                'open': a.open_context_path('transactions_system_limits'),
                'close': a.close(),
            },
            'help_html': true,
        }) -}}
    {%- endif -%}
{%- endblock form_a -%}
